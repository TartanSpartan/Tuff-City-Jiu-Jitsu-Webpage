(function() {
  var createController, installTurbolinks, moduleIsInstalled;

  Turbolinks.start = function() {
    if (installTurbolinks()) {
      if (Turbolinks.controller == null) {
        Turbolinks.controller = createController();
      }
      return Turbolinks.controller.start();
    }
  };

  installTurbolinks = function() {
    if (window.Turbolinks == null) {
      window.Turbolinks = Turbolinks;
    }
    return moduleIsInstalled();
  };

  createController = function() {
    var controller;
    controller = new Turbolinks.Controller;
    controller.adapter = new Turbolinks.BrowserAdapter(controller);
    return controller;
  };

  moduleIsInstalled = function() {
    return window.Turbolinks === Turbolinks;
  };

  if (moduleIsInstalled()) {
    Turbolinks.start();
  }

}).call(this);
